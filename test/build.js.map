{"version":3,"sources":["webpack:///webpack/bootstrap 53cead636c2579568542","webpack:///./test/main.jsx","webpack:///../src/component.jsx","webpack:///../el/elt/~/elt/observable.js"],"names":[],"mappings":"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A;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,wEAAuE,gEAAgE;AACvI;;AAEA;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA,EAAC;;AAED;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,8DAA6D,mEAAmE;AAChI;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA,qEAAoE,mEAAmE;AACvI;;AAEA;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA,EAAC;;AAED;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,sDAAqD;AACrD;AACA;AACA,IAAG;;AAEH;AACA,EAAC;;AAED;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA,kEAAiE,aAAa;AAC9E;AACA;;AAEA;AACA;AACA;;AAEA,kBAAiB,WAAW;AAC5B;;AAEA,kC","file":"build.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 53cead636c2579568542\n **/","window.assert = function (b) {\r\n  if (!b) console.error(new Error('assert failed'));\r\n}\r\n\r\nimport {elt, Component} from 'elt/component';\r\n\r\nclass MyApp extends Component {\r\n  initial_data = {\r\n    txt: 'some text.',\r\n    obj: {a: 1, b: 2}\r\n  };\r\n\r\n  props = ['txt'];\r\n\r\n  view(data) {\r\n    return <div>\r\n      <span class='pouet'>test ! {data.txt} {false} {new Date()}</span><br/>\r\n      <span>{data.obj} <input type='text' name='toto' value={data.txt}/></span>\r\n    </div>;\r\n  }\r\n}\r\n\r\ndocument.body.appendChild(<MyApp txt='pouet !'/>.$node);\r\n// should append that node to the body.\r\n\r\n// Hello!\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./test/main.jsx\n **/","\r\nimport {Observable} from 'elt/observable';\r\n\r\nexport class Component {\r\n\r\n  $node = null;\r\n  $content = null;\r\n  $parentComponent = null;\r\n\r\n  // List of properties set in the attributes that will be pulled into\r\n  // data as .props\r\n  props = []\r\n\r\n  // The data spec for this component. Note that it can be overriden\r\n  // (although rarely, usually by Repeat)\r\n  initial_data = {}\r\n\r\n  // Should the view be built whenever a component is instanciated ?\r\n  constructor(attrs = {}) {\r\n\r\n    this.attrs = attrs;\r\n\r\n  }\r\n\r\n  compile(additional_data = {}) {\r\n    // FIXME WE WANT THEM OBSERVABLES\r\n    this.data = Object.assign({}, this.initial_data, additional_data);\r\n    let attrs = this.attrs;\r\n\r\n    for (let p of this.props) {\r\n      if (p in attrs) {\r\n        this.data[p] = attrs[p];\r\n      }\r\n    }\r\n\r\n    // hmm ?? should I call the view() here ?\r\n    // NOTE $content should be set up somewhere.\r\n    this.$view = this.view(this.data);\r\n    this.$view.setParentComponent(this);\r\n    this.$content = this.$node = this.$view.$node;\r\n  }\r\n\r\n  view() {\r\n    return null;\r\n  }\r\n\r\n  setContentInsertion = (component) => {\r\n    return {\r\n      // Bound function because we want to access the this.\r\n      view: (data, next) => {\r\n        let elt = next(data);\r\n        this.$content = elt.$node;\r\n        return elt;\r\n      }\r\n    }\r\n  }\r\n\r\n  setParentComponent(component) {\r\n    this.$parentComponent = component;\r\n  }\r\n\r\n  getParentComponent(cls) {\r\n    let p = this.$parentComponent;\r\n    if (!p) return null;\r\n\r\n    if (p instanceof cls) return p;\r\n    return p.getParentComponent(cls);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * This method is bound to\r\n   * @param  {String|Number|Boolean|Node|Component} child\r\n   *         The child we want to add to the current component.\r\n   */\r\n  appendChild(child) {\r\n    // content is a Node.\r\n    let content = this.$content || this.$node;\r\n\r\n    if (typeof child === 'string' || child instanceof Number || child instanceof Boolean) {\r\n      // Simple text node.\r\n      // Note\r\n      content.appendChild(document.createTextNode(child.toString()));\r\n\r\n    } else if (child instanceof Observable) {\r\n      // A text node that will be bound\r\n      child = new TextObservable(c);\r\n      content.appendChild(child.$node);\r\n\r\n    } else if (child instanceof Node) {\r\n      content.appendChild(c);\r\n    } else if (child instanceof Component) {\r\n      // Get its HTML node.\r\n      child.setParentComponent(elt);\r\n      content.appendChild(child.$node);\r\n    } else {\r\n      // When all else fail, then try to at least create a JSON-ificated version of it.\r\n      // FIXME probably not.\r\n      content.appendChild(document.createTextNode(JSON.stringify(child)));\r\n    }\r\n  }\r\n\r\n}\r\n\r\n\r\n/**\r\n *\r\n */\r\nexport class TextObservable extends Component {\r\n\r\n  constructor(obs) {\r\n    super();\r\n    this.$node = document.createTextNode('');\r\n\r\n    // Whenever the observed change, just set its value to its string content.\r\n    // obs.changed((v) => this.$node.textContent = v.toString());\r\n    obs.changed((v) => this.appendChild);\r\n  }\r\n\r\n}\r\n\r\n\r\n/**\r\n *\r\n */\r\nexport class HtmlComponent extends Component {\r\n  constructor(elt, attrs) {\r\n    super();\r\n\r\n    assert('string' === typeof elt);\r\n\r\n    this.elt = elt;\r\n    this.attrs = attrs;\r\n  }\r\n\r\n  /**\r\n   * Create the html node.\r\n   */\r\n  view(data) {\r\n\r\n    let e = document.createElement(this.elt);\r\n\r\n    for (let attribute_name in this.attrs) {\r\n      let att = this.attrs[attribute_name];\r\n\r\n      if (att instanceof Observable) {\r\n        att.changed((val) => e.setAttribute(attribute_name, val));\r\n      } else {\r\n        e.setAttribute(attribute_name, att);\r\n      }\r\n    }\r\n\r\n    // empty setParentComponent as this one shall never have one.\r\n    return {$node: e, setParentComponent() { }};\r\n  }\r\n\r\n}\r\n\r\n/**\r\n *\r\n * NOTE During the element instanciation, it is expected\r\n * \t\tthat the children are already instanciated components.\r\n *\r\n * @param  {Component|String} elt\r\n *         A Component or the name of the html element to create.\r\n * @param  {Object} attrs\r\n *         The attributes that go onto the node. They can hold Observable\r\n *         objects.\r\n * @param  {Component|Node|Any} ...children\r\n *         List of children to append to this component.\r\n * @return {Component}\r\n *         The resulting instanciated component, with a $node property\r\n *         ready to be inserted into the DOM.\r\n */\r\nexport function elt(elt, attrs, ...children) {\r\n\r\n  // assert(elt instanceof Component || typeof elt === 'string');\r\n\r\n  if ((typeof elt) === 'string') {\r\n    // Create a simple Html node.\r\n    elt = new HtmlComponent(elt, attrs);\r\n\r\n  } else if (elt instanceof Function) {\r\n\r\n    // Create a component, as a constructor was given to us as first argument.\r\n    elt = new elt(attrs, children);\r\n\r\n  }\r\n\r\n  elt.compile();\r\n\r\n  // For each child, construct their node.\r\n  for (let c of children) {\r\n    if (typeof c === 'undefined') continue;\r\n    elt.appendChild(c);\r\n  }\r\n\r\n  // By this point, elt.$node is ready for insertion into the DOM.\r\n  return elt;\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ../src/component.jsx\n **/","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nexports.obs = obs;\nexports.o = o;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar Observable = (function () {\n  function Observable(value) {\n    _classCallCheck(this, Observable);\n\n    this._listeners = [];\n  }\n\n  _createClass(Observable, [{\n    key: 'reset',\n    value: function reset() {\n      delete this._value;\n    }\n  }, {\n    key: 'get',\n\n    /**\r\n     * Get the value of the observable.\r\n     */\n    value: function get() {\n      return this._value;\n    }\n  }, {\n    key: 'set',\n    value: function set(value) {\n\n      // No need to change.\n      if (this._value === value) return;\n\n      this._value = value;\n\n      // No need to trigger if no one is listening to us.\n      if (this._listeners.length === 0) return;\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this._listeners[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var l = _step.value;\n\n          l(value);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator['return']) {\n            _iterator['return']();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }, {\n    key: 'changed',\n    value: function changed(fn) {\n      this._listeners.push(fn);\n\n      // listeners are always given the current value if it is available upon subscribing.\n      if (this.hasOwnProperty('_value')) fn(this._value);\n    }\n  }, {\n    key: 'unsubscribe',\n    value: function unsubscribe(fn) {\n      var idx = this._listeners.indexOf(fn);\n      if (idx > -1) this._listeners.splice(idx, 1);\n    }\n  }, {\n    key: 'destroy',\n\n    /**\r\n     * Remove all listeners and prepare to free the object.\r\n     */\n    value: function destroy() {\n      delete this._listeners;\n      delete this._value;\n    }\n  }]);\n\n  return Observable;\n})();\n\nexports.Observable = Observable;\n\nvar ArrayObservable = (function () {\n  function ArrayObservable(a) {\n    _classCallCheck(this, ArrayObservable);\n\n    this.length = new Observable(0);\n    this.update(a);\n  }\n\n  _createClass(ArrayObservable, [{\n    key: 'update',\n    value: function update(arr) {\n      assert(a instanceof Array);\n\n      // the array hasn't changed.\n      if (arr === this._value) ;\n\n      // empty the array ?\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = arr[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var _a = _step2.value;\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n            _iterator2['return']();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      // update the length.\n      this.length.set(this._value.length);\n    }\n  }, {\n    key: 'at',\n\n    // Get observable on position i\n    // or set the object at the given position.\n    value: function at(i, v) {}\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = this.items[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var i = _step3.value;\n\n          i.destroy();\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3['return']) {\n            _iterator3['return']();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n    }\n  }]);\n\n  return ArrayObservable;\n})();\n\nexports.ArrayObservable = ArrayObservable;\n\n/**\r\n * This object only creates keys whenever they are needed.\r\n */\n\nvar ObjectObservable = (function () {\n  function ObjectObservable(obj) {\n    _classCallCheck(this, ObjectObservable);\n\n    this.update(obj);\n  }\n\n  _createClass(ObjectObservable, [{\n    key: 'update',\n    value: function update(obj) {\n      for (var _name in obj) {\n        if (this[_name]) this[_name].set(obj[_name]);else this[_name] = obs(obj[_name]);\n      }\n    }\n  }]);\n\n  return ObjectObservable;\n})();\n\nexports.ObjectObservable = ObjectObservable;\n\nfunction obs(o) {\n  var cls = null;\n\n  if (o instanceof Array) {\n    cls = ArrayObservable;\n  } else if (o instanceof Date) {\n    cls = Observable;\n  } else if (typeof o === 'object') {\n    cls = ObjectObservable;\n  } else {\n    cls = Observable;\n  }\n\n  return new cls(o);\n}\n\nfunction o() {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  var l = args.length;\n  var fn = args[args.length - 1];\n  var deps = [];\n\n  for (var i = 0; i < l - 2; i++) {}\n}\n\n// compute the dependencies here.\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../el/elt/~/elt/observable.js\n ** module id = 2\n ** module chunks = 0\n **/"],"sourceRoot":""}